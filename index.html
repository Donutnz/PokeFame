<!doctype html>
<html>
    <head>
        <title>PokeFame</title>
        <meta content="width=device-width, inital-scale=1">
        <link rel="stylesheet" href="/style.css">
    </head>
    <body>
        <h3>PokeFame</h3>
        <p>This page is WIP</p>

        <div class="rate">
            -
        </div>

        <div class="disp" id="strm">
            -
        </div>
        <br>
        <div class="disp" id="twt">
            -
        </div>
        <br>

        <div class="counter" id="mystic" style="background-color:blue;">
            Team Mystic:
        </div>
        <div class="counter" id="valor" style="background-color:red;">
            Team Valor:
        </div>
        <div class="counter" id="instinct" style="background-color:yellow;">
            Team Instinct:
        </div>
        <br>

        <input type="button" onClick="png()" value="Test"></input>

        <script src="https://code.jquery.com/jquery-latest.min.js"></script>
        <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
        <!--<script src="/socket.io/socket.io.js"></script>-->


        <script>
            var socket=io();

            var events=0;

            var tsM=0;
            var tsV=0;
            var tsI=0;

            function png(){
                socket.emit("test","Hello");
                return false;
            };
            socket.on("updte",function(tweet){
                events+=1;
                //$("#strm").append("; Name: "+tweet.user.screen_name);
                //$("#twt").append("<br><br>Piece of wisdom: "+tweet.text);
                $("#twt").append("---<br>Name: "+tweet.user.screen_name+"<br>Post: "+tweet.text+"<br>Location: "+tweet.user.location+" / "+tweet.coordinates+" / "+tweet.place+"<br>");
                console.log(tweet.user.screen_name);
            });

            socket.on("mystic",function(tweet){
                tsM+=1;
                $("#mystic").html("Team Mystic: "+tsM);
            });

            socket.on("valor",function(tweet){
                tsV+=1;
                $("#valor").html("Team Valor: "+tsV);
            });

            socket.on("instinct",function(tweet){
                tsI+=1;
                $("#instinct").html("Team Instinct: "+tsI);
            });

            setInterval(ups,1000)

            function ups(){
                $(".rate").html(events+"Tps");
                events=0;
            }
            </script>

            <script type="text/javascript">  var appInsights=window.appInsights||function(config){    function r(config){t[config]=function(){var i=arguments;t.queue.push(function(){t[config].apply(t,i)})}}var t={config:config},u=document,e=window,o="script",s=u.createElement(o),i,f;s.src=config.url||"//az416426.vo.msecnd.net/scripts/a/ai.0.js";u.getElementsByTagName(o)[0].parentNode.appendChild(s);try{t.cookie=u.cookie}catch(h){}for(t.queue=[],i=["Event","Exception","Metric","PageView","Trace","Dependency"];i.length;)r("track"+i.pop());return r("setAuthenticatedUserContext"),r("clearAuthenticatedUserContext"),config.disableExceptionTracking||(i="onerror",r("_"+i),f=e[i],e[i]=function(config,r,u,e,o){var s=f&&f(config,r,u,e,o);return s!==!0&&t["_"+i](config,r,u,e,o),s}),t    }({        instrumentationKey:"216160d3-ac8a-4321-a8f9-89684b5a7a7e"    });           window.appInsights=appInsights;    appInsights.trackPageView();</script>
    </body>
</html>